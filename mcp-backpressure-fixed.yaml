# =============================================================================
# MCP-BACKPRESSURE - CONFIG FOR agent-init
# =============================================================================

name: mcp-backpressure
version: "0.1.0"
description: "Backpressure/concurrency control middleware for FastMCP MCP servers"
type: library

mvp_scope: |
  Global concurrency limit (max_concurrent), bounded queue (queue_size), 
  queue timeout, structured overload error (JSON-RPC -32001).
  NO per-client limits, NO fairness, NO prometheus.

modules:
  - name: core
    description: "Main middleware, limiter, errors, metrics, types"
    estimated_loc: 550

  - name: tests
    description: "Unit tests for concurrency, queue, timeout, cancellation"
    estimated_loc: 750

  - name: examples
    description: "Simple server and load simulation examples"
    estimated_loc: 180

  - name: docs
    description: "README, DESIGN.md, CHANGELOG"
    estimated_loc: 250

  - name: packaging
    description: "pyproject.toml, CI workflow, py.typed"
    estimated_loc: 150

dependencies:
  runtime:
    - fastmcp>=2.9.0
  dev:
    - pytest>=8.0
    - pytest-asyncio>=0.23
    - ruff>=0.4
    - mypy>=1.10
    - pytest-cov>=5.0
